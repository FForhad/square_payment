# **Square Payment Integration with Django**

## **Description**  
This project integrates Square's Payment API with a Django backend to handle secure credit card payments. It allows users to make payments and tracks transaction details using Square's Sandbox and Production environments.

---

## **Features**  
- 💳 **Secure Payment Processing**: Integrates Square's Payment API for credit card payments using a secure nonce system.  
- 📊 **Transaction History**: Retrieve payment details such as amount, status, and date.  
- 🛠️ **Easy Integration**: Minimal setup for integrating Square payments into your Django backend.  

---

## **Technologies Used**  
- **Backend**: Django  
- **Payment Gateway**: Square Payment API (Sandbox and Production Environments)  
- **Frontend Integration**: Compatible with any frontend framework (HTML/JS, React, Vue, etc.)  

---

## **How It Works**  
1. **Payment Tokenization**: The Square Payment Form generates a secure nonce (token) for credit card details.  
2. **Backend Processing**: The Django backend processes the payment using Square's Payments API.  
3. **Database Storage**: Successful payment transactions can be tracked in the backend.

---

## **Endpoints**  
### **POST `/api/process-payment/`**  
Processes a payment using Square's Payments API.  
- **Request Body** (JSON):  
  ```json
  {
      "nonce": "card_nonce_here",
      "amount": 200
  }
  ```
  - `nonce`: Tokenized card data generated by the Square Payment Form.  
  - `amount`: Payment amount in cents (e.g., 200 = $2.00).

- **Response** (Success):  
  ```json
  {
      "status": "success",
      "data": {
          "payment": {
              "id": "payment_id",
              "status": "COMPLETED",
              "amount_money": {
                  "amount": 200,
                  "currency": "USD"
              }
          }
      }
  }
  ```

- **Response** (Error):  
  ```json
  {
      "status": "error",
      "message": "Invalid nonce or Square API error."
  }
  ```

---

## **Setup Instructions**  

### **1. Clone the Repository**  
```bash
git clone https://github.com/your-username/square-django-payment.git
cd square-django-payment
```

### **2. Set Up Your Environment**  
- Install dependencies:  
  ```bash
  pip install -r requirements.txt
  ```

- Add your Square credentials (`Access Token` and `Application ID`) in your project.  
  Update the `square_config.py` file:  
  ```python
  SQUARE_ACCESS_TOKEN = 'your_square_access_token'
  SQUARE_APPLICATION_ID = 'your_square_app_id'
  SQUARE_ENVIRONMENT = 'sandbox'  # Use 'production' for live
  ```

### **3. Run the Project**  
- Apply migrations:  
  ```bash
  python manage.py migrate
  ```
- Start the server:  
  ```bash
  python manage.py runserver
  ```

### **4. Test Payments**  
- Open the `test_payment.html` file in your browser.  
- Enter test card details to simulate a payment.  
- Test card numbers can be found in [Square Sandbox Test Cards](https://developer.squareup.com/docs/devtools/sandbox/test-values).

---

## **Test Card Details**  
Use the following test card in the Square Sandbox environment:  
- **Card Number**: `4111 1111 1111 1111`  
- **Expiration Date**: Any future date (e.g., `12/30`)  
- **CVV**: `111`  
- **Postal Code**: `12345`

---

## **Project Directory Structure**  
```
square-django-payment/
│
├── manage.py
├── payment_app/
│   ├── views.py            # Payment processing logic
│   ├── urls.py             # API endpoints
│   ├── square_config.py    # Square credentials
│   └── templates/
│       └── test_payment.html   # Frontend test payment form
│
├── requirements.txt        # Project dependencies
└── README.md               # Project documentation
```

---

## **Contributing**  
Feel free to submit an issue or open a pull request to improve this project. Contributions are welcome!

---

## **License**  
This project is licensed under the MIT License.

---

## **Contact**  
For questions or support, feel free to contact:  
📧 **forhad.uddin9028@gmail.com**

---

### **Happy Coding! 🚀**
